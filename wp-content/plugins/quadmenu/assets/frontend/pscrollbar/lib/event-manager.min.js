
"use strict";var EventElement=function(a){this.element=a;this.events={}};EventElement.prototype.bind=function(a,b){if(typeof this.events[a]==="undefined"){this.events[a]=[]}this.events[a].push(b);this.element.addEventListener(a,b,false)};EventElement.prototype.unbind=function(a,c){var b=(typeof c!=="undefined");this.events[a]=this.events[a].filter(function(d){if(b&&d!==c){return true}this.element.removeEventListener(a,d,false);return false},this)};EventElement.prototype.unbindAll=function(){for(var a in this.events){this.unbind(a)}};var EventManager=function(){this.eventElements=[]};EventManager.prototype.eventElement=function(b){var a=this.eventElements.filter(function(c){return c.element===b})[0];if(typeof a==="undefined"){a=new EventElement(b);this.eventElements.push(a)}return a};EventManager.prototype.bind=function(b,a,c){this.eventElement(b).bind(a,c)};EventManager.prototype.unbind=function(b,a,c){this.eventElement(b).unbind(a,c)};EventManager.prototype.unbindAll=function(){for(var a=0;a<this.eventElements.length;a++){this.eventElements[a].unbindAll()}};EventManager.prototype.once=function(d,b,e){var a=this.eventElement(d);var c=function(f){a.unbind(b,c);e(f)};a.bind(b,c)};module.exports=EventManager;