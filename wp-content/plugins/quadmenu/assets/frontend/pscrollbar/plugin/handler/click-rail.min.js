
"use strict";var _=require("../../lib/helper");var instances=require("../instances");var updateGeometry=require("../update-geometry");var updateScroll=require("../update-scroll");function bindClickRailHandler(d,c){function b(e){return e.getBoundingClientRect()}var a=function(f){f.stopPropagation()};if(c.settings.stopPropagationOnClick){c.event.bind(c.scrollbarY,"click",a)}c.event.bind(c.scrollbarYRail,"click",function(j){var f=_.toInt(c.scrollbarYHeight/2);var h=c.railYRatio*(j.pageY-window.pageYOffset-b(c.scrollbarYRail).top-f);var i=c.railYRatio*(c.railYHeight-c.scrollbarYHeight);var g=h/i;if(g<0){g=0}else{if(g>1){g=1}}updateScroll(d,"top",(c.contentHeight-c.containerHeight)*g);updateGeometry(d);j.stopPropagation()});if(c.settings.stopPropagationOnClick){c.event.bind(c.scrollbarX,"click",a)}c.event.bind(c.scrollbarXRail,"click",function(j){var f=_.toInt(c.scrollbarXWidth/2);var g=c.railXRatio*(j.pageX-window.pageXOffset-b(c.scrollbarXRail).left-f);var i=c.railXRatio*(c.railXWidth-c.scrollbarXWidth);var h=g/i;if(h<0){h=0}else{if(h>1){h=1}}updateScroll(d,"left",((c.contentWidth-c.containerWidth)*h)-c.negativeScrollAdjustment);updateGeometry(d);j.stopPropagation()})}module.exports=function(b){var a=instances.get(b);bindClickRailHandler(b,a)};