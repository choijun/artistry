
"use strict";var instances=require("../instances");var updateGeometry=require("../update-geometry");var updateScroll=require("../update-scroll");function bindMouseWheelHandler(d,c){var b=false;function g(i,h){var j=d.scrollTop;if(i===0){if(!c.scrollbarYActive){return false}if((j===0&&h>0)||(j>=c.contentHeight-c.containerHeight&&h<0)){return !c.settings.wheelPropagation}}var k=d.scrollLeft;if(h===0){if(!c.scrollbarXActive){return false}if((k===0&&i<0)||(k>=c.contentWidth-c.containerWidth&&i>0)){return !c.settings.wheelPropagation}}return true}function e(j){var i=j.deltaX;var h=-1*j.deltaY;if(typeof i==="undefined"||typeof h==="undefined"){i=-1*j.wheelDeltaX/6;h=j.wheelDeltaY/6}if(j.deltaMode&&j.deltaMode===1){i*=10;h*=10}if(i!==i&&h!==h){i=0;h=j.wheelDelta}return[i,h]}function f(i,h){var l=d.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(l){if(l.tagName!=="TEXTAREA"&&!window.getComputedStyle(l).overflow.match(/(scroll|auto)/)){return false}var k=l.scrollHeight-l.clientHeight;if(k>0){if(!(l.scrollTop===0&&h>0)&&!(l.scrollTop===k&&h<0)){return true}}var j=l.scrollLeft-l.clientWidth;if(j>0){if(!(l.scrollLeft===0&&i<0)&&!(l.scrollLeft===j&&i>0)){return true}}}return false}function a(j){var k=e(j);var i=k[0];var h=k[1];if(f(i,h)){return}b=false;if(!c.settings.useBothWheelAxes){updateScroll(d,"top",d.scrollTop-(h*c.settings.wheelSpeed));updateScroll(d,"left",d.scrollLeft+(i*c.settings.wheelSpeed))}else{if(c.scrollbarYActive&&!c.scrollbarXActive){if(h){updateScroll(d,"top",d.scrollTop-(h*c.settings.wheelSpeed))}else{updateScroll(d,"top",d.scrollTop+(i*c.settings.wheelSpeed))}b=true}else{if(c.scrollbarXActive&&!c.scrollbarYActive){if(i){updateScroll(d,"left",d.scrollLeft+(i*c.settings.wheelSpeed))}else{updateScroll(d,"left",d.scrollLeft-(h*c.settings.wheelSpeed))}b=true}}}updateGeometry(d);b=(b||g(i,h));if(b){j.stopPropagation();j.preventDefault()}}if(typeof window.onwheel!=="undefined"){c.event.bind(d,"wheel",a)}else{if(typeof window.onmousewheel!=="undefined"){c.event.bind(d,"mousewheel",a)}}}module.exports=function(b){var a=instances.get(b);bindMouseWheelHandler(b,a)};