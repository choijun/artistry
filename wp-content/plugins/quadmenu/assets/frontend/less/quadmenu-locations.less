@horizontal-padding: @gutter * 0.5px;

@import "mixins.less";
@import "locations/general.less";
@import "locations/grid.less";
// Locations
// -----------------------------------------------------------------------------

.loop(@i: length(@themes)) when (@i > 0) and not (@themes = '') {

    @location: e(extract(@themes, @i));

    @class: ~"quadmenu-@{location}";

    @font_font-family: "@{location}_font_font-family";
    @font_font-weight: "@{location}_font_font-weight";
    @font_font-size: "@{location}_font_font-size";

    @navbar_font_font-family: "@{location}_navbar_font_font-family";
    @navbar_font_font-size: "@{location}_navbar_font_font-size";
    @navbar_font_font-weight: "@{location}_navbar_font_font-weight";

    @dropdown_font_font-family: "@{location}_dropdown_font_font-family";
    @dropdown_font_font-size: "@{location}_dropdown_font_font-size";
    @dropdown_font_font-weight: "@{location}_dropdown_font_font-weight";

    @navbar_width:  "@{location}_navbar_width";
    @navbar_height:  "@{location}_navbar_height";
    @sticky_height:  "@{location}_sticky_height";

    @navbar_background: "@{location}_navbar_background";

    @navbar_background_color: "@{location}_navbar_background_color_color";
    @navbar_background_color_alpha: "@{location}_navbar_background_color_alpha";

    @navbar_background_to: "@{location}_navbar_background_to_color";
    @navbar_background_to_alpha: "@{location}_navbar_background_to_alpha";
    @navbar_background_deg: "@{location}_navbar_background_deg";

    @sticky_background_color: "@{location}_sticky_background_color";
    @sticky_background_alpha: "@{location}_sticky_background_alpha";    

    @navbar_mobile_border_color: "@{location}_navbar_mobile_border_color";
    @navbar_mobile_border_alpha: "@{location}_navbar_mobile_border_alpha";

    @navbar_logo_bg_color: "@{location}_navbar_logo_bg_color";
    @navbar_logo_bg_alpha: "@{location}_navbar_logo_bg_alpha";  
    @navbar_logo_height:  "@{location}_navbar_logo_height";  
    @sticky_logo_height:  "@{location}_sticky_logo_height";   

    @navbar_link_bg_color: "@{location}_navbar_link_bg_color";
    @navbar_link_bg_alpha: "@{location}_navbar_link_bg_alpha";     

    @navbar_link_bg_hover_color: "@{location}_navbar_link_bg_hover_color";
    @navbar_link_bg_hover_alpha: "@{location}_navbar_link_bg_hover_alpha";   

    @navbar_divider_color: "@{location}_navbar_divider_color";
    @navbar_divider_alpha: "@{location}_navbar_divider_alpha";

    @navbar_link_hover_effect_color: "@{location}_navbar_link_hover_effect_color";
    @navbar_link_hover_effect_alpha: "@{location}_navbar_link_hover_effect_alpha";

    @navbar_link_margin_top: "@{location}_navbar_link_margin_border-top";
    @navbar_link_margin_bottom: "@{location}_navbar_link_margin_border-bottom";
    @navbar_link_margin_left: "@{location}_navbar_link_margin_border-left";
    @navbar_link_margin_right: "@{location}_navbar_link_margin_border-right";

    @navbar_link_radius_top: "@{location}_navbar_link_radius_border-top";
    @navbar_link_radius_bottom: "@{location}_navbar_link_radius_border-bottom";
    @navbar_link_radius_left: "@{location}_navbar_link_radius_border-left";
    @navbar_link_radius_right: "@{location}_navbar_link_radius_border-right";

    @dropdown_margin: "@{location}_dropdown_margin";
    @dropdown_radius: "@{location}_dropdown_radius";

    @dropdown_border_color: "@{location}_dropdown_border_border-color";    
    @dropdown_border_width: "@{location}_dropdown_border_border-top";

    @dropdown_background_color: "@{location}_dropdown_background_color";
    @dropdown_background_alpha: "@{location}_dropdown_background_alpha";

    @dropdown_title_border_width:  "@{location}_dropdown_title_border_border-top";
    @dropdown_title_border_style:  "@{location}_dropdown_title_border_border-style";
    @dropdown_title_border_color:  "@{location}_dropdown_title_border_border-color";

    @dropdown_link_bg_hover_color:  "@{location}_dropdown_link_bg_hover_color";
    @dropdown_link_bg_hover_alpha:  "@{location}_dropdown_link_bg_hover_alpha";

    @dropdown_link: "@{location}_dropdown_link";

    @dropdown_link_hover: "@{location}_dropdown_link_hover";

    @dropdown_link_border_width:  "@{location}_dropdown_link_border_border-top";
    @dropdown_link_border_style:  "@{location}_dropdown_link_border_border-style";
    @dropdown_link_border_color:  "@{location}_dropdown_link_border_border-color";

    //@navbar_border:  "@{location}_navbar_border";

    .quadmenu-sticky-wrapper {
        &.@{class} {
            background-color: @@navbar_background_color;
        }
    }

    #quadmenu {
        &.@{class} {
            &,
            .navbar-offcanvas {            
                .navbar-background(@@navbar_background, @@navbar_background_color, @@navbar_background_color_alpha, @@navbar_background_to, @@navbar_background_to_alpha, @@navbar_background_deg);
                color: ~"@{@{location}_navbar_text}";
            }

            &.quadmenu-divider-show {
                .quadmenu-navbar-nav {
                    > li > a:after,
                        > li.quadmenu-item-type-search > form:after {
                        margin-left: -@@navbar_link_margin_left*1px; 
                        .background-color-rgba(@@navbar_divider_color, @@navbar_divider_alpha); 
                    }
                }
            }

            // Fonts
            // -----------------------------------------------------------------

            font-family: @@font_font-family;
            font-weight: @@font_font-weight;
            font-size: @@font_font-size * 1px;

            .quadmenu-navbar-nav {

                li {

                    &.quadmenu-item {

                        > a,
                        > form {
                            font-family: @@navbar_font_font-family;
                            font-size: @@navbar_font_font-size * 1px;
                            font-weight: @@navbar_font_font-weight;
                        }

                        > form {
                            &.quadmenu-has-icon:not(.quadmenu-item-type-icon) {      
                                > a > .quadmenu-item-content {
                                    padding-left: @horizontal-padding*2px + @@navbar_font_font-size *1px;
                                }
                            }
                        }

                    }

                }

                .quadmenu-title {      
                    font-family: @@navbar_font_font-family;
                    font-size: @@navbar_font_font-size * 1px;           
                }

                .quadmenu-dropdown-menu {

                    li {
                        &.quadmenu-item {
                            > a {
                                font-family: @@dropdown_font_font-family;
                                font-size: @@dropdown_font_font-size * 1px;
                                font-weight: @@dropdown_font_font-weight;
                            }
                        }
                    }

                }

            }

            // Mobile
            // -----------------------------------------------------------------

            &:not(.quadmenu-is-horizontal) {

                .quadmenu-navbar-collapse {

                    &.in {
                        box-shadow: inset 0 1px 0 rgba(red(@@navbar_mobile_border_color), green(@@navbar_mobile_border_color), blue(@@navbar_mobile_border_color), @@navbar_mobile_border_alpha);
                    }
                }

                .navbar-offcanvas {            
                    width: @@navbar_width * 1px;
                }

                .quadmenu-navbar-nav {

                    > li {

                        &.quadmenu-item {

                            //&:hover,
                            &.open {

                                > a {

                                    > .quadmenu-item-content {

                                        > .quadmenu-caret {
                                            color: @@dropdown_link;
                                            .background-color-rgba(@@dropdown_background_color, @@dropdown_background_alpha);
                                        }
                                    }
                                }
                            }
                        }

                    }
                }

            }

            // Horizontal
            // -----------------------------------------------------------------

            &.quadmenu-is-horizontal {

                .navbar-height(@@navbar_height, @default-height);

                .quadmenu-navbar-brand {
                    margin-top: @@navbar_link_margin_top*1px;
                    margin-bottom: @@navbar_link_margin_bottom*1px;
                }

                .quadmenu-navbar-nav {

                    > li > .quadmenu-dropdown-menu {
                        .dropdown-menu(@@dropdown_margin, @@dropdown_radius, @@dropdown_border_width);
                    }

                    .quadmenu-dropdown-menu {
                        .dropdown-border(@@dropdown_border_width,@@dropdown_border_color);
                        .background-color-rgba(@@dropdown_background_color, @@dropdown_background_alpha);  
                    }

                    .quadmenu-dropdown-submenu:not(.quadmenu-item-type-tab) > .quadmenu-dropdown-menu {
                        .dropdown-submenu(@@dropdown_radius,@@dropdown_border_width);                        
                        margin: 0 @@dropdown_margin * 1px;   
                    }
                }
            }

            // Sicky
            // -----------------------------------------------------------------

            &.quadmenu-sticky-top {

                .navbar-sticky-height(@@sticky_height, @@navbar_height);
                .navbar-sticky-background(@@sticky_background_color, @@sticky_background_alpha);

                .quadmenu-navbar-brand {
                    > img {
                        height: @@sticky_logo_height * 1px;
                    }
                }
            }

            // Offcanvas
            // -----------------------------------------------------------------

            &.quadmenu-is-vertical,
            &.quadmenu-is-offcanvas {

                &:not(.quadmenu-is-horizontal) {

                    .quadmenu-navbar-nav {

                        .quadmenu-dropdown-menu {

                            li {
                                &.quadmenu-item {

                                    //&:only-child,
                                    &:last-child {                
                                        > a {
                                            border-style: @@dropdown_link_border_style;
                                            border-width: 0 0 @@dropdown_link_border_width*1px 0;
                                        }
                                    }
                                }

                            }

                        }

                    }

                }

            }


            // Vertical 
            // -----------------------------------------------------------------

            &.quadmenu-is-vertical {

                &.quadmenu-offcanvas-left {

                    .navbar-offcanvas {
                        &:not(.in) {
                            left: @@navbar_width * -1px;
                        }
                    }

                }

                &.quadmenu-offcanvas-right {

                    .navbar-offcanvas {
                        &:not(.in) {
                            right: @@navbar_width * -1px;
                        }
                    }

                }
            }

            // Perfect Scrollbar
            // -----------------------------------------------------------------

            .ps-container {

                >.ps-scrollbar-y-rail {
                    background-color: ~"@{@{location}_navbar_scrollbar_rail}";

                    >.ps-scrollbar-y {
                        background-color: ~"@{@{location}_navbar_scrollbar}";
                    }

                    &:hover, 
                        &:active {
                        >.ps-scrollbar-y {                                
                            background-color: ~"@{@{location}_navbar_scrollbar}";
                        }
                    }
                }
            }

            .quadmenu-dropdown-menu {

                .ps-container {
                    >.ps-scrollbar-y-rail {

                        >.ps-scrollbar-y {
                            background-color: ~"@{@{location}_dropdown_scrollbar}";
                        }

                        &:hover, 
                            &:active {
                            >.ps-scrollbar-y {                                
                                background-color: ~"@{@{location}_dropdown_scrollbar}";
                            }
                        }
                    }

                }
            }

            // Brand
            // -----------------------------------------------------------------

            .quadmenu-navbar-brand {
                color: ~"@{@{location}_navbar_link}";
                &:hover,
                    &:focus {
                    color:  ~"@{@{location}_navbar_link_hover}";
                }

                &.img {
                    .navbar-logo-background(@@navbar_logo_bg_color, @@navbar_logo_bg_alpha);
                }

                > img {
                    height: @@navbar_logo_height * 1px;
                }
            }

            .quadmenu-navbar-toggle {
                &.collapsed {
                    .icon-bar {
                        background-color: ~"@{@{location}_navbar_toggle_open}";
                    }
                }
                .icon-bar {
                    background-color: ~"@{@{location}_navbar_toggle_close}";
                }
            }

            // UL
            // -----------------------------------------------------------------
            .quadmenu-navbar-nav {

                > li {
                    &.quadmenu-hover-slidebar > span.bar {
                        .background-color-rgba(@@navbar_link_hover_effect_color, @@navbar_link_hover_effect_alpha);
                    }
                }

                > li {

                    margin: @@navbar_link_margin_top*1px @@navbar_link_margin_right*1px @@navbar_link_margin_bottom*1px @@navbar_link_margin_left*1px;
                    border-radius: @@navbar_link_radius_top*1px @@navbar_link_radius_right*1px @@navbar_link_radius_bottom*1px @@navbar_link_radius_left*1px;

                    > a {

                        > .quadmenu-item-content {
                            color:  ~"@{@{location}_navbar_link}";
                            text-transform:  ~"@{@{location}_navbar_link_transform}";

                            > .quadmenu-icon {
                                color: ~"@{@{location}_navbar_link_icon}";
                            }

                            > .quadmenu-subtitle {
                                color: ~"@{@{location}_navbar_link_subtitle}";
                            }

                            > .quadmenu-badge {

                                > .quadmenu-badge-bubble {
                                    background-color: ~"@{@{location}_navbar_badge}";
                                    color: ~"@{@{location}_navbar_badge_color}";
                                }
                            }
                        }

                    }

                    &:hover,
                        &.open {

                        > a {

                            > .quadmenu-item-content {

                                color: ~"@{@{location}_navbar_link_hover}";

                                > .quadmenu-icon {
                                    color: ~"@{@{location}_navbar_link_icon_hover}";
                                }

                                > .quadmenu-subtitle {
                                    color: ~"@{@{location}_navbar_link_subtitle_hover}"!important;
                                }  

                            }

                        }

                    }

                    &.quadmenu-has-link {

                        .background-color-rgba(@@navbar_link_bg_color, @@navbar_link_bg_alpha);

                        &:hover,
                            &.open {

                            .background-color-rgba(@@navbar_link_bg_hover_color, @@navbar_link_bg_hover_alpha);

                        }
                    }

                    .button {
                        color: ~"@{@{location}_navbar_button}";
                        background-color: ~"@{@{location}_navbar_button_bg}";

                        &:active,
                            &:focus,
                            &:hover {
                            color: ~"@{@{location}_navbar_button_hover}";
                            background-color: ~"@{@{location}_navbar_button_bg_hover}";
                        }
                    }

                }

                // Search
                // -------------------------------------------------------------

                > li.quadmenu-item-type-search {
                    > form {                         

                        input::-moz-placeholder,
                        input:-ms-input-placeholder,
                            input::-webkit-input-placeholder {
                            color: ~"@{@{location}_navbar_link}";
                        }

                        input {
                            color: ~"@{@{location}_navbar_link}";
                        }

                        i {
                            color: ~"@{@{location}_navbar_link_icon}";
                        }
                    }
                }

                // Cart
                // -------------------------------------------------------------

                > li.quadmenu-item-type-cart {

                    > a > .quadmenu-item-content {

                        > .quadmenu-cart-magic {  

                            > .quadmenu-icon {
                                color: ~"@{@{location}_navbar_link_icon}";
                            }

                            > .quadmenu-cart-qty {
                                background-color: ~"@{@{location}_navbar_badge}";
                                color: ~"@{@{location}_navbar_badge_color}";
                            }
                        }

                    }

                    &.open {
                        > a > .quadmenu-item-content {

                            > .quadmenu-cart-magic {  

                                > .quadmenu-icon {
                                    color: ~"@{@{location}_navbar_link_icon_hover}";
                                }
                            }

                        }
                    }
                }

                // Social
                // -------------------------------------------------------------

                > li.quadmenu-item-type-social {

                    &:hover,
                        &.open {

                        > a {

                            > .quadmenu-item-content {

                                > .quadmenu-icon {
                                    color: @@navbar_link_bg_hover_color;
                                } 

                            }

                        }

                    }

                    > .quadmenu-toggle-container > a {

                        color:  ~"@{@{location}_navbar_link}";

                        > .quadmenu-icon {
                            color: ~"@{@{location}_navbar_link_icon}";
                        } 

                        &:hover,
                            &:focus {  

                            > .quadmenu-icon {
                                color: @@navbar_link_bg_hover_color;
                            } 

                        }

                    }

                }

                // Carousel
                // -------------------------------------------------------------

                > li.quadmenu-item-type-carousel {

                    .owl-dots {
                        .owl-dot span {
                            background-color: ~"@{@{location}_dropdown_button_bg}";
                        }
                    }

                    .owl-nav {

                        .owl-prev,
                        .owl-next {
                            color: ~"@{@{location}_dropdown_button}";
                            background-color: ~"@{@{location}_dropdown_button_bg}";

                            &:active,
                                &:focus,
                                &:hover {
                                color: ~"@{@{location}_dropdown_button_hover}";
                                background-color: ~"@{@{location}_dropdown_button_bg_hover}";
                            }

                        }

                    }

                }

                // Login
                // -------------------------------------------------------------

                > li.quadmenu-item-type-login {

                    a {
                        color: @@dropdown_link;
                        &:hover {
                            color: @@dropdown_link_hover;
                        }
                    }

                }

                // Dropdown Menu
                // -------------------------------------------------------------

                .quadmenu-dropdown-menu {
                    background-color: @@dropdown_background_color;            

                    .quadmenu-title {
                        color: ~"@{@{location}_dropdown_title}";
                        .link-border(@@dropdown_title_border_width,@@dropdown_title_border_style,@@dropdown_title_border_color, @vertical-padding);
                    }

                    li {
                        &.quadmenu-item {

                            &:not(:last-child):not(:only-child) {
                                > a {  
                                    border-style: @@dropdown_link_border_style;
                                    border-width: 0 0 @@dropdown_link_border_width*1px 0;
                                }
                            }

                            > a {
                                color: @@dropdown_link;
                                text-transform:  ~"@{@{location}_dropdown_link_transform}";
                                border-color: @@dropdown_link_border_color;

                                > .quadmenu-item-content {

                                    color: @@dropdown_link;

                                    > .quadmenu-icon {
                                        color: ~"@{@{location}_dropdown_link_icon}";
                                    }
                                    > .quadmenu-subtitle,
                                    > .quadmenu-description {
                                        color: ~"@{@{location}_dropdown_link_subtitle}";
                                    }

                                    > .quadmenu-badge {
                                        background-color: ~"@{@{location}_navbar_badge}";
                                        color: ~"@{@{location}_navbar_badge_color}";
                                    }
                                }

                            }

                            &:hover,
                                &.open {

                                > a {

                                    > .quadmenu-item-content {

                                        color: @@dropdown_link_hover!important;

                                        > .quadmenu-icon {
                                            color: ~"@{@{location}_dropdown_link_icon_hover}";
                                        }

                                        > .quadmenu-description,
                                        > .quadmenu-subtitle {
                                            color: ~"@{@{location}_dropdown_link_subtitle_hover}";
                                        } 
                                    }
                                }

                            }

                            &.quadmenu-has-link {

                                &:hover,
                                    &.open {

                                    .background-color-rgba(@@dropdown_link_bg_hover_color, @@dropdown_link_bg_hover_alpha);

                                }

                            }

                            .button {
                                color: ~"@{@{location}_dropdown_button}";
                                background-color: ~"@{@{location}_dropdown_button_bg}";

                                &:active,
                                    &:focus,
                                    &:hover {
                                    color: ~"@{@{location}_dropdown_button_hover}";
                                    background-color: ~"@{@{location}_dropdown_button_bg_hover}";
                                }
                            }
                        }

                    }
                }
            }

        }
    }

    .loop((@i - 1));
} .loop;