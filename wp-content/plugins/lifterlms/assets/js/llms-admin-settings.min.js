!function(e,i){window.llms=window.llms||{},window.llms.admin_settings=function(){this.file_frame=null,this.init=function(){this.bind()},this.bind=function(){var i=this;e(".llms-image-field-upload").length&&(e(".llms-image-field-upload").on("click",function(t){t.preventDefault(),i.image_upload_click(e(this),t)}),e(".llms-image-field-remove").on("click",function(t){t.preventDefault(),i.update_image(e(this),"","")}))},this.image_upload_click=function(e,i){var t=this,l=null;if(!l){var a=e.attr("data-frame-title")||LLMS.l10n.translate("Select an Image"),n=e.attr("data-frame-button")||LLMS.l10n.translate("Select Image");l=wp.media.frames.file_frame=wp.media({title:a,button:{text:n},multiple:!1})}l.on("select",function(){var i=l.state().get("selection").first().toJSON();t.update_image(e,i.id,i.url)}),l.open()},this.update_image=function(i,t,l){var a=e("#"+i.attr("data-id")),n=i.prevAll("img.llms-image-field-preview");$remove=i.hasClass("llms-image-field-remove")?i:i.next("input.llms-image-field-remove"),a.val(t),n.attr("src",l),""!==t?$remove.removeClass("hidden"):$remove.addClass("hidden")},this.init()};new window.llms.admin_settings}(jQuery);