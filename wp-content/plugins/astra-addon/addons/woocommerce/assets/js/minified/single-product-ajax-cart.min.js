!function(t){if(!(astra.single_product_ajax_add_to_cart||""))return!1;var a=function(){t(document.body).on("click","button.single_add_to_cart_button",this.onAddToCart).on("added_to_cart",this.updateButton)};a.prototype.onAddToCart=function(a){a.preventDefault();var r=t(this),d=t(this).val(),e=t('input[name="variation_id"]').val()||"",n=t('input[name="quantity"]').val();r.is(".single_add_to_cart_button")&&(r.removeClass("added"),r.addClass("loading"),e?jQuery.ajax({url:astra.ajax_url,type:"POST",data:"action=astra_add_cart_single_product&product_id="+d+"&variation_id="+e+"&quantity="+n,success:function(a){t(document.body).trigger("wc_fragment_refresh"),t(document.body).trigger("added_to_cart",[r])}}):jQuery.ajax({url:astra.ajax_url,type:"POST",data:"action=astra_add_cart_single_product&product_id="+d+"&quantity="+n,success:function(a){t(document.body).trigger("wc_fragment_refresh"),t(document.body).trigger("added_to_cart",[r])}}))},a.prototype.updateButton=function(a,r){1===t(r=void 0!==r&&r).parent().parent().find("button.single_add_to_cart_button").length&&(t(r).removeClass("loading"),t(r).addClass("added"),astra.is_cart||0!==t(r).parent().find(".added_to_cart").length||t(r).after(' <a href="'+astra.cart_url+'" class="added_to_cart wc-forward" title="'+astra.view_cart+'">'+astra.view_cart+"</a>"))},new a}(jQuery);